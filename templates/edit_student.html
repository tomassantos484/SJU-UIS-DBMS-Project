{% extends "base.html" %}

{% block content %}
<div class="form-container">
    <h2 class="form-title">Edit Student</h2>
    <form method="POST">
        <div class="form-group">
            <label for="student_xnumber">X-Number</label>
            <input type="text" value="{{ student.student_xnumber }}" disabled>
        </div>
        
        <div class="form-group">
            <label for="stormcard_id">StormCard ID</label>
            <input type="text" id="stormcard_id" name="stormcard_id" value="{{ student.stormcard_id }}" required>
        </div>
        
        <div class="form-group">
            <label for="library_id">Library ID</label>
            <input type="text" id="library_id" name="library_id" value="{{ student.library_id }}" required>
        </div>
        
        <div class="form-group">
            <label for="first_name">First Name</label>
            <input type="text" id="first_name" name="first_name" value="{{ student.first_name }}" required>
        </div>
        
        <div class="form-group">
            <label for="last_name">Last Name</label>
            <input type="text" id="last_name" name="last_name" value="{{ student.last_name }}" required>
        </div>
        
        <div class="form-group">
            <label for="date_of_birth">Date of Birth</label>
            <input type="date" id="date_of_birth" name="date_of_birth" value="{{ student.date_of_birth.strftime('%Y-%m-%d') }}" required>
        </div>
        
        <div class="form-group">
            <label for="college">College</label>
            <select id="college" name="college" required>
                <option value="">Select College</option>
                {% set colleges = [
                    "College of Arts and Sciences",
                    "The School of Education",
                    "The Peter J. Tobin College of Business",
                    "College of Pharmacy and Health Sciences",
                    "The Lesley H. and William L. Collins College of Professional Studies"
                ] %}
                {% for college in colleges %}
                    <option value="{{ college }}" {% if student.college == college %}selected{% endif %}>{{ college }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="major">Major</label>
            <input type="text" id="major" name="major" value="{{ student.major }}" required>
        </div>
        
        <div class="form-group">
            <label for="gpa">GPA</label>
            <input type="number" id="gpa" name="gpa" step="0.01" min="0" max="4" value="{{ student.gpa }}" required>
        </div>
        
        <div class="form-group">
            <label for="gender">Gender</label>
            <select id="gender" name="gender" required>
                <option value="">Select Gender</option>
                {% for gender in ["Male", "Female", "Other"] %}
                    <option value="{{ gender }}" {% if student.gender == gender %}selected{% endif %}>{{ gender }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" value="{{ student.email }}" required>
        </div>
        
        <div class="form-group">
            <label for="phone_number">Phone Number</label>
            <input type="tel" id="phone_number" name="phone_number" value="{{ student.phone_number }}" required pattern="\d{10}" title="Please enter 10 digits without any separators">
        </div>
        
        <div class="form-group">
            <label for="date_of_admission">Date of Admission</label>
            <input type="date" id="date_of_admission" name="date_of_admission" value="{{ student.date_of_admission.strftime('%Y-%m-%d') }}" required>
        </div>
        
        <div class="form-group">
            <label for="year_of_graduation">Expected Graduation Date</label>
            <input type="date" id="year_of_graduation" name="year_of_graduation" value="{{ student.year_of_graduation.strftime('%Y-%m-%d') }}" required>
        </div>

        <div class="form-actions">
            <button type="submit" class="submit-button">Update Student</button>
            <a href="{{ url_for('view_student', student_xnumber=student.student_xnumber) }}" class="cancel-button">Cancel</a>
        </div>
    </form>
</div>
{% endblock %} 